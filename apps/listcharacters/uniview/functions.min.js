function togglePanelDestination(){var e;if(_copy2Picker){if(document.getElementById("clickto").src="images/clicktopanel.png",document.getElementById("cpAreaToggle").style.backgroundColor="#EDE4D0",document.getElementById("charNavigation")){document.getElementById("charNavigation").style.backgroundColor="#a52a2a",e=document.getElementById("charNavigation").querySelectorAll("button");for(var t=0;t<e.length;t++)e[t].style.color="white"}_copy2Picker=!1}else{if(document.getElementById("clickto").src="images/clicktocparea.png",document.getElementById("cpAreaToggle").style.backgroundColor="#a52a2a",document.getElementById("charNavigation"))for(document.getElementById("charNavigation").style.backgroundColor="#EDE4D0",e=document.getElementById("charNavigation").querySelectorAll("button"),t=0;t<e.length;t++)e[t].style.color="#666";_copy2Picker=!0}}function adjacentChar(e,t){for(;0!=e&&e!=U.length&&(e+=t,!U[e]););printProperties(e)}function addLine(e,t){var n=getDataFor(e).split(";"),r="";document.getElementById("uPlusToggle").checked&&(r="U+");var a=!1,c=t.appendChild(document.createElement("div"));if(setOnclick(e,c),c.title="Hex: "+e.toString(16).toUpperCase()+"; Dec: "+e,n[1].indexOf("Unassigned")>-1?c.className="empty":c.className="ch",document.getElementById("listC1").checked){var o=getCharType(e);if(o>1&&4>o)if(0==document.getElementById("graphicsToggle").checked){var d=c.appendChild(document.createElement("span"));d.className="chSpan",d.style.fontFamily=_currentFont,d.appendChild(document.createTextNode(getCharFromInt(parseInt(n[0],16))))}else{var i=c.appendChild(document.createElement("img"));"m"==n[GRAPHIC_FIELD]?(scriptGroup=findScriptGroup(e),i.src="/c/"+scriptGroup.replace(/ /g,"_")+"/"+n[0]+".png"):(i.src="http://decodeunicode.org/data/glyph/26x26/"+n[0]+".gif",a=!0)}}if(document.getElementById("listN").checked&&c.appendChild(document.createTextNode("  ‎"+r+n[0])),document.getElementById("listC2").checked){var o=getCharType(e);if(o>1&&4>o)if(c.appendChild(document.createTextNode("  ")),0==document.getElementById("graphicsToggle").checked){var d=c.appendChild(document.createElement("span"));d.className="chSpan",d.style.fontFamily=_currentFont,d.appendChild(document.createTextNode(getCharFromInt(parseInt(n[0],16))))}else{var i=c.appendChild(document.createElement("img"));"m"==n[GRAPHIC_FIELD]?(scriptGroup=findScriptGroup(e),i.src="/c/"+scriptGroup.replace(/ /g,"_")+"/"+n[0]+".png"):i.src="http://decodeunicode.org/data/glyph/26x26/"+n[0]+".gif"}}return document.getElementById("listNm").checked&&c.appendChild(document.createTextNode("  "+n[1])),a}function addtocharSelect(e){field=document.getElementById("charNum"),""!=field.value&&" "!=field.value.charCodeAt(field.value.length-1)&&(field.value+=" ");var t=e.toString(16).toUpperCase();1==t.length?t="000"+t:2==t.length&&(t="00"+t),3==t.length&&(t="0"+t),field.value=field.value+t}function addtoPicker(e){var t=document.getElementById("picker"),n=getCharFromInt(e);if(document.all)t.value=t.value+n;else if(t.selectionStart||"0"==t.selectionStart){var r=t.selectionStart,a=t.selectionEnd,c=r,o=t.scrollTop;t.value=t.value.substring(0,r)+n+t.value.substring(a,t.value.length),c+=n.length,t.selectionStart=c,t.selectionEnd=c,t.scrollTop=o}else t.value+=n}function isMatrix(){return nodeArray=document.getElementById("chart").getElementsByTagName("td"),nodeArray.length>0?!0:!1}function changeFont(e){e==sApplyFont||""==e?(document.getElementById("chFont").value=_defaultFont,_currentFont=_defaultFont):_currentFont=e;var t=document.getElementById("chart");if(isMatrix()){nodeArray=t.getElementsByTagName("td");for(var n=0;n<nodeArray.length;n++)"hexNum"!=nodeArray[n].className&&(nodeArray[n].style.fontFamily=_currentFont)}else{nodeArray=t.getElementsByTagName("span");for(var n=0;n<nodeArray.length;n++)"chSpan"==nodeArray[n].className&&(nodeArray[n].style.fontFamily=_currentFont)}document.getElementById("largeChar")&&(document.getElementById("largeChar").style.fontFamily=_currentFont)}function changeFontSize(e){var t=document.getElementById("chart");if("range"!=_lastOperation&&"customrange"!=_lastOperation||document.getElementById("listMatrixToggle").checked){nodeArray=t.getElementsByTagName("span");for(var n=0;n<nodeArray.length;n++)nodeArray[n].className.match(/ch/)&&(nodeArray[n].style.fontSize=e)}else{nodeArray=t.getElementsByTagName("td");for(var n=0;n<nodeArray.length;n++)"hexNum"!=nodeArray[n].className&&(nodeArray[n].style.fontSize=e)}}function changeHeight(e){var t=document.getElementById("listOutput");t.style.height=e}function clearHighlighting(){var e=new Array,t=document.getElementById("chart");e="range"!=_lastOperation&&"customrange"!=_lastOperation||document.getElementById("listMatrixToggle").checked?t.getElementsByTagName("div"):t.getElementsByTagName("td");for(var n=0;n<e.length;n++)e[n].className.match(/ch/)&&(e[n].className="ch")}function clearInputFields(){field=document.getElementById("charNum"),field.value="",field.focus()}function clearMainInput(){document.getElementById("maininput").value="",document.getElementById("maininput").focus()}function convertChar2CP(e){for(var t=0,n="",r=0;r<e.length;r++){var a=e.charCodeAt(r);if((0>a||a>65535)&&(n+="Error in convertChar2CP: byte out of range "+dec2hex(a)+"!"),0!=t){if(a>=56320&&57343>=a){n+=dec2hex(65536+(t-55296<<10)+(a-56320))+" ",t=0;continue}n+="Error in convertChar2CP: surrogate out of range "+dec2hex(t)+"!",t=0}a>=55296&&56319>=a?t=a:n+=dec2hex(a)+" "}return n.substring(0,n.length-1)}function convertChar2Dec(e){var t=0;CPstring="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if((0>r||r>65535)&&(CPstring+="Error "+dec2hex(r)+"!"),0!=t){if(r>=56320&&57343>=r){CPstring+=65536+(t-55296<<10)+(r-56320)+" ",t=0;continue}CPstring+="!erreur "+t+"!",t=0}r>=55296&&56319>=r?t=r:CPstring+=r+" "}return CPstring=CPstring.substring(0,CPstring.length-1),CPstring}function convertCP2Char(e){var t="";if(e=e.replace(/^\s+/,""),0==e.length)return"";e=e.replace(/\s+/g," ");for(var n=e.split(" "),r=0;r<n.length;r++){var a=parseInt(n[r],16);65535>=a?t+=String.fromCharCode(a):1114111>=a?(a-=65536,t+=String.fromCharCode(55296|a>>10)+String.fromCharCode(56320|1023&a)):t+="convertCP2Char error: Code point out of range: "+dec2hex(a)}return t}function convertDec2CP(e){CPstring="";var t="";if(e=e.replace(/^\s+/,""),0==e.length)return"";e=e.replace(/\s+/g," ");for(var n=e.split(" "),r=0;r<n.length;r++){r>0&&(t+=" ");var a=parseInt(n[r],10);t+=dec2hex(a)}return t}function createList(e){_tempList=!1;var t,n=e.split(":"),r=parseInt(n[0],16),a=parseInt(n[1],16),c=!1,o=document.getElementById("listOutput"),d=document.getElementById("chart"),l=document.createElement("div");l.className="charList",l.id="chart";var s="";for(i=r;i<=a;i++)if(U[i]){var p=getDataFor(i).split(";");currSubtitle=p[SUBTITLE_FIELD],""!=currSubtitle&&currSubtitle!=s&&(t=document.createElement("div"),t.className="subcat",t.appendChild(document.createTextNode(st[p[SUBTITLE_FIELD]])),l.appendChild(t),s=currSubtitle),used=addLine(i,l),used&&(c=!0)}o.replaceChild(l,d);c?document.getElementById("ack").style.display="block":document.getElementById("ack").style.display="none"}function createMatrix(e){var t,n,r,a,c,o;_tempList=!1,dugraphics=!1;var d=document.getElementById("listOutput"),l=document.getElementById("chart");t=document.createElement("table"),t.className="chartChar",t.id="chart",n=t.appendChild(document.createElement("tbody"));var s=0,p=e.split(":"),m=0,u=parseInt(p[0],16),h=u;m=u%16,m>0&&(u-=m);var g=parseInt(p[1],16),C=g;m=g%16,m>0&&(g+=15-m);var f=Math.ceil((g-u+1)/16),y=!0;for(document.getElementById("hideNumbers").checked&&(y=!1),i=-1;i<16;i++)for(r=n.appendChild(document.createElement("tr")),a=r.appendChild(document.createElement("td")),a.className="hexNum",y&&i>-1?a.appendChild(document.createTextNode(i.toString(16).toUpperCase())):a.appendChild(document.createTextNode(" ")),j=0;j<f;j++)if(s=u+i+16*j,charType=getCharType(s),-1==i)if(a=r.appendChild(document.createElement("td")),a.className="hexNum",y){var E=(s+1).toString(16).toUpperCase();a.appendChild(document.createTextNode(E.slice(0,E.length-1)))}else a.appendChild(document.createTextNode(" "));else{if(hexNum=s.toString(16).toUpperCase(),a=r.appendChild(document.createElement("td")),a.title="Hex: "+s.toString(16).toUpperCase()+" Dec: "+s,a.style.fontFamily=_currentFont,setOnclick(s,a),setMouseover(s,a),setMouseout(a),a.className="ch",charType<2&&(a.className="empty"),charType>1)if(0==document.getElementById("graphicsToggle").checked)a.appendChild(document.createTextNode(getCharFromInt(s)));else{for(k=hexNum.length;k<4;k++)hexNum="0"+hexNum;c=a.appendChild(document.createElement("img")),U[s]?(o=U[s].split(";"),"m"==o[GRAPHIC_FIELD]?(scriptGroup=findScriptGroup(s),c.src="/c/"+scriptGroup.replace(/ /g,"_")+"/"+hexNum+".png"):(c.src="http://decodeunicode.org/data/glyph/26x26/"+hexNum+".gif",dugraphics=!0)):(c.src="http://decodeunicode.org/data/glyph/26x26/"+hexNum+".gif",dugraphics=!0)}(h>s||s>C)&&(a.className="outofrange")}d.replaceChild(t,l);dugraphics?document.getElementById("ack").style.display="block":document.getElementById("ack").style.display="none",document.getElementById("fontSize")&&(document.getElementById("fontSize").value="100%")}function displayUnorderedList(e){var t=!1;_tempList=!0;var n=0,r=document.getElementById("listOutput"),a=document.getElementById("chart"),c=document.createElement("div");for(c.className="charList",c.id="chart",i=0;i<e.length;i++){n=e.charCodeAt(i),n>=55296&&56319>=n&&i<e.length-1&&(n=65536+(n-55296<<10)+(e.charCodeAt(i+1)-56320),i++);var o=addLine(n,c);o&&(t=!0)}r.replaceChild(c,a);t?document.getElementById("ack").style.display="block":document.getElementById("ack").style.display="none",document.getElementById("fontSize")&&(document.getElementById("fontSize").value="100%")}function doN11n(e){var t=document.getElementById("picker").value;"nfc"==e?document.getElementById("picker").value=nfc(t):document.getElementById("picker").value=nfd(t),alert("Edit buffer contents normalized to "+e.toUpperCase())}function olddoN11n(e){var t=document.getElementById("picker").value,n=encodeURI("/code/normalization/getn11n.php?n="+e+"&str="+t);httpRequest("GET",n,!0,getn11n)}function drawPropertyList(e,t,n){if(0==n)t.appendChild(document.createTextNode(sNoMatch));else{var r="Number of characters matched: "+n;t.appendChild(document.createTextNode(r))}var a=document.getElementById("listOutput");oldContent=document.getElementById("chart"),removedNode=a.replaceChild(e,oldContent),_lastOperation="listproperties","startup"!=document.getElementById("generalCat").value&&highlightList(2,document.getElementById("generalCat").value),"startup"!=document.getElementById("directionality").value&&highlightList(4,document.getElementById("directionality").value),document.getElementById("fontSize").value="100%",1==document.getElementById("graphicsToggle").checked?document.getElementById("ack").style.display="block":document.getElementById("ack").style.display="none"}function drawSearchList(e,t,n,r){if(0==n)t.appendChild(document.createTextNode(sNoMatch));else{var a="Number of characters matched: "+n;t.appendChild(document.createTextNode(a))}var c=document.getElementById("listOutput"),o=document.getElementById("chart");removedNode=c.replaceChild(e,o),document.getElementById("fontSize")&&(document.getElementById("fontSize").value="100%"),r?document.getElementById("ack").style.display="block":document.getElementById("ack").style.display="none"}function drawSelection(e){document.getElementById("listMatrixToggle").checked?createList(e):createMatrix(e)}function findScriptGroup(e){if(128>e)return"Basic Latin";for(var t=1;t<scriptGroups.length&&e>scriptGroups[t][0];)t++;return t==scriptGroups.length?sNotAChar:scriptGroups[t-1][1]>=e?scriptGroups[t-1][2]:scriptGroups[t][0]==e?scriptGroups[t][2]:sNotAChar}function isListShowing(){var e=document.getElementById("chart").getElementsByTagName("tr");return e.length>0?!0:!1}function findString(e){if(e=e.replace(/\s+/g," "),e=e.replace(/^\s+/,""),e=e.replace(/\s+$/,""),""!=e||document.getElementById("localSearch").checked){if(document.getElementById("localSearch").checked){var t=new Array,n=document.getElementById("chart");if(t=isListShowing()?n.getElementsByTagName("td"):n.getElementsByTagName("div"),0==t.length)return void alert("You are indicating you want to do a local search, but there is no content in the left panel to search on.")}document.getElementById("select")&&(document.getElementById("select").value="none"),_tempList=!0;var r=0,a=0,c=!0;1!=document.getElementById("searchDesc").checked&&(c=!1);var o=!0;1!=document.getElementById("searchNames").checked&&(o=!1);var d=!0;if(1!=document.getElementById("searchOther").checked&&(d=!1),!(c||o||d))return void alert("Select one of Names, Descriptions or Other under the search term.");if(document.getElementById("localSearch").checked){var i,l=new RegExp(e,"i"),s=!1;clearHighlighting();for(var a=0;a<t.length;a++)t[a].className.match(/ch/)&&(i=t[a].className+" dim",t[a].className=i);for(var a=0;a<t.length;a++)if(decCP=t[a].title.split(" ")[3],t[a].className.match(/ch/)&&U[decCP]){var p=U[decCP].split(";"),s=!1;o&&p[1].search(l,0)>-1&&(i=t[a].className.replace("dim",""),t[a].className=i,s=!0),!s&&d&&(p[10].search(l,0)>-1||p[11].search(l,0)>-1)&&(i=t[a].className.replace("dim",""),t[a].className=i,s=!0),!s&&desc[decCP]&&c&&desc[decCP].search(l,0)>-1&&(i=t[a].className.replace("dim",""),t[a].className=i,r++)}}else{var m="",u=0,l=new RegExp(e,"i");for(s=!1,a=0;a<scriptGroups.length-1;a++)if("131072"!=scriptGroups[a][0]&&"13312"!=scriptGroups[a][0]&&"44032"!=scriptGroups[a][0]&&"57344"!=scriptGroups[a][0]&&"983040"!=scriptGroups[a][0]&&"1048576"!=scriptGroups[a][0])for(j=scriptGroups[a][0];j<scriptGroups[a][1];j++)U[j]&&(p=U[j].split(";"),s=!1,o&&p[1].search(l,0)>-1&&(m+=p[0]+" ",s=!0,u++),!s&&d&&(p[10].search(l,0)>-1||p[11].search(l,0)>-1)&&(m+=p[0]+" ",s=!0,u++),!s&&desc[j]&&c&&desc[j].search(l,0)>-1&&(m+=p[0]+" ",u++));showCodepoint(m,"hex"),document.getElementById("searchResultCount").innerHTML=u+" records found",document.getElementById("searchResultCount").style.display=block}}}function getCharFromInt(e){var t;return 65535>=e?t=String.fromCharCode(e):1114111>=e?(e-=65536,t=String.fromCharCode(55296|e>>10)+String.fromCharCode(56320|1023&e)):t="!error "+dec2hex(e)+"!",t}function getCharType(e){return U[e]?2:findScriptGroup(e)!=sNotAChar?e>13312&&19903>e||e>19968&&40891>e||e>131072&&173782>e||e>173824&&177972>e||e>177984&&178205>e||e>178208&&183969>e||e>44032&&55203>e||e>94208&&100351>e?3:e>57344&&63743>e||e>983040&&1048573>e||e>1048576&&1114109>e?5:e>55296&&57343>e?4:1:0}function getDataFor(e){for(var t=getCharType(e),n=e.toString(16).toUpperCase();n.length<4;)n="0"+n;return 2==t?U[e]:2>t?n+";[Unassigned code point];;;;;;;;;;;;;;;;;":3==t?n+";["+findScriptGroup(e)+"];Lo;0;L;;;;;N;;;;;;;;;":5==t?n+";["+findScriptGroup(e)+"];Co;0;L;;;;;N;;;;;;;;;":t>4?n+";["+findScriptGroup(e)+"];;;;;;;;;;;;;;;;;":(alert("Error in getDataFor: Unexpected value for charType"),n+";[Error];;;;;;;;;;;;;;;;;")}function getRange(e){var t=e.replace(/_/g," ").toLowerCase(),n="",r="",a="";for(i=1;i<scriptGroups.length;i++)if(scriptGroups[i][2].toLowerCase()==t){n=dec2hex(parseInt(scriptGroups[i][0])),3==n.length&&(n="0"+n),r=dec2hex(parseInt(scriptGroups[i][1])),3==r.length&&(r="0"+r),a=n+":"+r,document.getElementById("block").value=a;break}return a}function highlightList(e,t){var n,r,a,c=new Array;document.getElementById("chart");if(c=document.getElementById("chart").getElementsByTagName("div"),0==c.length&&(c=document.getElementById("chart").getElementsByTagName("td")),clearHighlighting(),"none"!=t&&"startup"!=t)if("0"!=t){searchStringRE=new RegExp(t);for(var o=0;o<c.length;o++)n=c[o].title.split(" "),c[o].className.match(/ch/)&&U[n[3]]&&(r=U[n[3]].split(";"),-1==r[e].search(searchStringRE)&&(a=c[o].className+" dim",c[o].className=a))}else for(var o=0;o<c.length;o++)n=c[o].title.split(" "),c[o].className.match(/ch/)&&U[n[3]]&&(r=U[n[3]].split(";"),0!=r[e]&&(a=c[o].className+" dim",c[o].className=a))}function highlight2List(){var e=new Array;new Array,document.getElementById("chart");e=document.getElementById("chart").getElementsByTagName("div"),0==e.length&&(e=document.getElementById("chart").getElementsByTagName("td"));for(var t="",n=!1,r=0;r<e.length;r++)if(e[r].className.match(/ch/)&&!e[r].className.match(/dim/)){n=!0;var a=e[r].title.split(" ");t+=getCharFromInt(a[3])}return n?void displayUnorderedList(t):void alert("No highlighted characters found.")}function listProperties(e){_tempList=!0;var t,n=0;if(document.getElementById("propertyResultCount").style.display="none",document.getElementById("locallist").checked){e=e.replace(/;/g,"");var r={L:"",R:"",EN:"",ES:"",ET:"",AN:"",CS:"",NSM:"",BN:"",WS:"",ON:""};t=e in r?4:"0"==e?3:2,highlightList(t,e)}else{var a=document.getElementById("listOutput"),c=document.getElementById("chart"),o=document.createElement("div");o.className="charList",o.id="chart",o.appendChild(document.createTextNode(sSearching));a.replaceChild(o,c);c=document.getElementById("chart");var d=document.createElement("div");d.className="charList",d.id="chart";var i=d.appendChild(document.createElement("div"));i.style.color="brown",i.style.fontSize="80%",_lastOperation="listproperties",_newContent=d,_resultdiv=i,_searchString=e;var l="",s=0,p=new RegExp(e);for(found=!1,n=0;n<scriptGroups.length-1;n++)if("131072"!=scriptGroups[n][0]&&"13312"!=scriptGroups[n][0]&&"44032"!=scriptGroups[n][0]&&"19968"!=scriptGroups[n][0]&&"57344"!=scriptGroups[n][0]&&"983040"!=scriptGroups[n][0]&&"1048576"!=scriptGroups[n][0])for(j=parseInt(scriptGroups[n][0]);j<parseInt(scriptGroups[n][1]);j++)U[j]&&(found=!1,U[j].search(p,0)>-1&&(l+=j.toString(16)+" ",found=!0,s++));showCodepoint(l,"hex"),document.getElementById("propertyResultCount").innerHTML=s+" records found",document.getElementById("propertyResultCount").style.display="block"}}function highlightByTag(e){var t=[],n=document.getElementById("chart");t=n.querySelectorAll(".dim");for(var r=0;r<t.length;r++)t[r].className=t[r].className.replace(/dim/,"");t=n.querySelectorAll(".ch");for(var a=0;a<t.length;a++){var c=t[a].title.split(" "),o=c[3],d="\\b"+e+"\\b";T[o]&&null===T[o].match(d)&&(t[a].className+=" dim"),T[o]||(t[a].className+=" dim")}}function nonHighlight2List(){var e=new Array;document.getElementById("chart");e=document.getElementById("chart").getElementsByTagName("div"),0==e.length&&(e=document.getElementById("chart").getElementsByTagName("td"));for(var t="",n=!1,r=0;r<e.length;r++)if(e[r].className.match(/ch/)&&e[r].className.match(/dim/)){n=!0;var a=e[r].title.split(" ");t+=getCharFromInt(a[3])}return n?void displayUnorderedList(t):void alert("No unhighlighted characters found.")}function output2CharArea(){var e,t=(new Array,new Array,document.getElementById("chart")),n=t.getElementsByTagName("tr");if(n.length>0){for(var r=n[0].getElementsByTagName("td").length,a=t.getElementsByTagName("td"),c=1;r>c;c++)for(var o=0;17>o;o++)if(e=a[c+o*r],e.className.match(/ch/)&&!e.className.match(/dim/)){var d=e.title.split(" ");addtoPicker(d[3])}}else for(var i=t.getElementsByTagName("div"),o=0;o<i.length;o++)if(e=i[o],e.className.match(/ch/)&&!e.className.match(/dim/)){var d=e.title.split(" ");addtoPicker(d[3])}}function previewChar(e){for(var t="1234567890abcdefABCDEF",n=!1,r="";e.indexOf(" ")>-1;)e=e.replace(" ","");for(i=0;i<e.length;i++)if(-1==t.indexOf(e.charAt(i))){n=!0;break}if(e.length>6&&(n=!0),n)return void alert(sNotHex);var a=parseInt(e,16);U[a]&&(cRecord=U[a].split(";"),cRecord[3]>0&&(r=" "));var c=document.getElementById("preview"),o=c.firstChild,d=document.createTextNode(r+getCharFromInt(a));c.replaceChild(d,o);c.style.fontFamily=_currentFont}function removeNonChars(){var e=new Array;if(e=document.getElementById("chart").getElementsByTagName("div"),0!=e.length){for(var t="",n=0;n<e.length;n++)if("ch"==e[n].className){var r=e[n].title.split(" ");t+=getCharFromInt(r[3])}displayUnorderedList(t)}}function redrawList(){var e=new Array;if(e=document.getElementById("chart").getElementsByTagName("div"),0!=e.length){for(var t="",n=0;n<e.length;n++){var r=e[n].title.split(" ");e[n].className.match(/ch/)&&(t+=getCharFromInt(r[3]))}displayUnorderedList(t)}}function setOnclick(e,t){t.onclick=function(){_copy2Picker?addtoPicker(e):(printProperties(e),window.location="#title")},t.ondblclick=function(){addtocharSelect(e)}}function setMouseover(e,t){t.onmouseover=function(){showName(e,t)}}function setMouseout(e){e.onmouseout=function(){hideName()}}function showAge(){if(isMatrix()){nodeArray=document.getElementById("chart").getElementsByTagName("td");for(var e=0;e<nodeArray.length;e++)if(nodeArray[e].className.match(/ch/)){switch(decCP=nodeArray[e].title.split(" ")[3],fields=U[decCP].split(";"),fields[AGE_FIELD]){case"1.0":c="c1-0";break;case"1.1":c="c1-1";break;case"2.0":c="c2-0";break;case"2.1":c="c2-1";break;case"3.0":c="c3-0";break;case"3.1":c="c3-1";break;case"3.2":c="c3-2";break;case"4.0":c="c4-0";break;case"4.1":c="c4-1";break;case"5.0":c="c5-0";break;case"5.1":c="c5-1";break;case"5.2":c="c5-2";break;case"6.0":c="c6-0";break;case"6.1":c="c6-1";break;case"6.2":c="c6-2";break;case"6.3":c="c6-3";break;case"7.0":c="c7-0";break;case"8.0":c="c8-0"}nodeArray[e].className+=" "+c}}else{nodeArray=document.getElementById("listOutput").getElementsByTagName("div");for(var e=0;e<nodeArray.length;e++)if(nodeArray[e].className.match(/\bch\b/)){switch(decCP=nodeArray[e].title.split(" ")[3],fields=U[decCP].split(";"),fields[AGE_FIELD]){case"1.0":c="c1-0";break;case"1.1":c="c1-1";break;case"2.0":c="c2-0";break;case"2.1":c="c2-1";break;case"3.0":c="c3-0";break;case"3.1":c="c3-1";break;case"3.2":c="c3-2";break;case"4.0":c="c4-0";break;case"4.1":c="c4-1";break;case"5.0":c="c5-0";break;case"5.1":c="c5-1";break;case"5.2":c="c5-2";break;case"6.0":c="c6-0";break;case"6.1":c="c6-1";break;case"6.2":c="c6-2";break;case"6.3":c="c6-3";break;case"7.0":c="c7-0";break;case"8.0":c="c8-0"}nodeArray[e].className+=" "+c}}}function showCharacterList(e){_lastOperation="cutpaste",displayUnorderedList(e)}function convert2upper(e,t){codepoints=convertChar2Dec(e).split(" ");var n,r="",a="",c="",o="";if(t)for(var d=0;d<codepoints.length;d++)cRecord=U[codepoints[d]].split(";"),n=!0,cRecord[12]&&(r+=" "+getCharFromInt(parseInt(cRecord[0],16))+"→"+getCharFromInt(parseInt(cRecord[12],16)),n=!1),cRecord[13]&&(a+=" "+getCharFromInt(parseInt(cRecord[0],16))+"→"+getCharFromInt(parseInt(cRecord[13],16)),n=!1),cRecord[14]&&(c+=" "+getCharFromInt(parseInt(cRecord[0],16))+"→"+getCharFromInt(parseInt(cRecord[14],16)),n=!1),n&&(o+=" "+getCharFromInt(parseInt(cRecord[0],16)));else for(var d=0;d<codepoints.length;d++)cRecord=U[codepoints[d]].split(";"),n=!0,cRecord[12]?(r+=getCharFromInt(parseInt(cRecord[12],16)),n=!1):r+=getCharFromInt(parseInt(cRecord[0],16)),cRecord[13]?(a+=getCharFromInt(parseInt(cRecord[13],16)),n=!1):a+=getCharFromInt(parseInt(cRecord[0],16)),cRecord[14]?(c+=getCharFromInt(parseInt(cRecord[14],16)),n=!1):c+=getCharFromInt(parseInt(cRecord[0],16)),n&&(o+=" "+getCharFromInt(parseInt(cRecord[0],16)));""==r&&(r="None found."),""==a&&(a="None found."),""==c&&(c="None found."),""==o&&(o="None found."),r='<div class="caseconversion"><p>To upper:<br />'+r+"</p>",a="<p>To lower:<br />"+a+"</p>",c="<p>To titlecase:<br />"+c+"</p>",o="<p>Characters without conversion:<br />"+o+"</p></div>",document.getElementById("charInfo").innerHTML=r+a+c+o}function oldconvert2upper(e,t){codepoints=convertChar2Dec(e).split(" ");var n,r="",a="",c="",o="";if(t)for(var d=0;d<codepoints.length;d++)cRecord=U[codepoints[d]].split(";"),n=!0,cRecord[12]&&(r+=" "+getCharFromInt(parseInt(cRecord[0],16))+"→"+getCharFromInt(parseInt(cRecord[12],16)),n=!1),cRecord[13]&&(a+=" "+getCharFromInt(parseInt(cRecord[0],16))+"→"+getCharFromInt(parseInt(cRecord[13],16)),n=!1),cRecord[14]&&(c+=" "+getCharFromInt(parseInt(cRecord[0],16))+"→"+getCharFromInt(parseInt(cRecord[14],16)),n=!1),n&&(o+=" "+getCharFromInt(parseInt(cRecord[0],16)));else{for(var d=0;d<codepoints.length;d++)cRecord=U[codepoints[d]].split(";"),n=!0,cRecord[12]?(r+=getCharFromInt(parseInt(cRecord[12],16)),n=!1):r+=getCharFromInt(parseInt(cRecord[0],16)),cRecord[13]?(a+=getCharFromInt(parseInt(cRecord[13],16)),n=!1):a+=getCharFromInt(parseInt(cRecord[0],16)),cRecord[14]?(c+=getCharFromInt(parseInt(cRecord[14],16)),n=!1):c+=getCharFromInt(parseInt(cRecord[0],16)),n&&(o+=" "+getCharFromInt(parseInt(cRecord[0],16)));""==r&&(r="None found."),""==a&&(a="None found."),""==c&&(c="None found."),""==o&&(o="None found."),r='<div class="caseconversion"><p>To upper:<br />'+r+"</p>",a="<p>To lower:<br />"+a+"</p>",c="<p>To titlecase:<br />"+c+"</p>",o="<p>Characters without conversion:<br />"+o+"</p></div>",document.getElementById("charInfo").innerHTML=r+a+c+o}}function expandList(e){for(codepoints=convertChar2CP(e).split(" "),newlist="",i=0;i<codepoints.length;i++)if("20"!=codepoints[i]&&"2D"!=codepoints[i]&&(newlist+=codepoints[i]+" "),"2D"==codepoints[i]&&i>0&&i<codepoints.length+1)for(j=1;j<parseInt(codepoints[i+1],16)-parseInt(codepoints[i-1],16);j++)newlist+=(parseInt(codepoints[i-1],16)+j).toString(16)+" ";return convertCP2Char(newlist.substring(0,newlist.length-1))}function showName(e,t){if(U[e]){cRecord=U[e].split(";"),span=document.createElement("span"),span.appendChild(document.createTextNode(cRecord[0]+" "+cRecord[1]));var n=document.getElementById("namedisplay");n.replaceChild(span,n.firstChild)}}function hideName(){span=document.createElement("span"),span.appendChild(document.createTextNode(" "));var e=document.getElementById("namedisplay");e.replaceChild(span,e.firstChild)}function originalshowName(e,t){span=document.createElement("span"),span.setAttribute("id","charname"),charinfo=document.createTextNode(t.title),span.appendChild(charinfo);var n=document.getElementById("chardata");n.replaceChild(span,n.firstChild)}function dec2hex(e){return(e+0).toString(16).toUpperCase()}function cleanHexCPs(e){return e=e.replace(/\\U/g," "),e=e.replace(/\\u/g," "),e=e.replace(/&#x/g," "),e=e.replace(/[^A-Za-z0-9]/g," "),e=e.replace(/\b\S*[^A-Fa-f0-9\s]\S*\b/g," "),e=e.replace(/\s+/g," "),e=e.replace(/^\s+/,""),e=e.replace(/\s+$/,"")}function cleanDecCPs(e){return e=e.replace(/&#/g," "),e=e.replace(/[^A-Za-z0-9]/g," "),e=e.replace(/\b\S*[^0-9\s]\S*\b/g," "),e=e.replace(/\s+/g," "),e=e.replace(/^\s+/,""),e=e.replace(/\s+$/,""),convertDec2CP(e)}function showCodepoint(e,t){if(e=e.replace(/_/g," "),e="dec"==t?cleanDecCPs(e):cleanHexCPs(e),""==e||" "==e)return alert("No codepoints found."),0;if(e.match(/[^abcdefABCDEF0-9\s]/))return alert("Can't work out what the codepoints are. Unexpected characters found. Boiled down to: "+e),0;var n=convertCP2Char(e);_lastOperation="codepoint",showCharacterList(n)}function showConverter(e,t){return e=1==document.getElementById("decimal").checked?cleanDecCPs(e):cleanHexCPs(e),""==e||" "==e?(alert("No codepoints found."),0):e.match(/[^abcdefABCDEF0-9\s]/)?(alert("Can't work out what the codepoints are. Unexpected characters found. Boiled down to: "+e),0):(converter=window.open("/apps/conversion?codepoints="+e+"&origin="+t,"converter"),void converter.focus())}function showList(e){if(1!=document.getElementById("searchOther").checked)alert("You need to select the checkbox next to Other (under the Search field) for this to work.");else{if(1!=document.getElementById("locallist").checked){var t=confirm("You haven't selected the Local checkbox. This request may take a long time. Do you want to continue?");if(!t)return!1}listProperties(e),_lastOperation="listproperties"}}function showProperties(e){if(1!=document.getElementById("searchOther").checked)alert("You need to select the checkbox next to Other (under the Search field) for this to work.");else{if(1!=document.getElementById("locallist").checked&&";0;"==e)return alert("You can only search for Combining Class 0 locally."),!1;if(1!=document.getElementById("locallist").checked){var t=confirm("You haven't selected the Local checkbox. This request may take a long time. Do you want to continue?");if(!t)return!1}listProperties(e)}}function showRange(){if(rawrange=tidyRange(document.getElementById("customRange1").value),0!=rawrange){if(rangeArray=rawrange.split(":"),rangeArray=rawrange.split(":"),""==rangeArray[0])return void showCodepoint(rangeArray[1]);if(""==rangeArray[1])return void showCodepoint(rangeArray[0]);if(size=parseInt(rangeArray[1],16)-parseInt(rangeArray[0],16),!(size>2e3)||(result=confirm("This range contains "+size+" characters. Displaying it will take a long time. Do you want to continue?"),result)){if(size<1)return void alert("Range incorrectly specified (start higher than end). Range identified: "+rawrange);range=rangeArray[0]+":"+rangeArray[1],document.getElementById("customRange1").value=range,_lastOperation="customrange",drawSelection(range)}}}function normaliseName(e){return e=e.replace(/ /g,""),e=e.toLowerCase()}function showSelection(e){if(""!=e&&(rangeArray=e.split(":"),size=parseInt(rangeArray[1],16)-parseInt(rangeArray[0],16),!(size>2e3)||(result=confirm("This block contains "+size+" characters. Displaying it will take a long time. Do you want to continue?"),result))){_lastOperation="range",document.getElementById("customRange1").value=rangeArray[0]+":"+rangeArray[1];var t=scriptInfoPointer(rangeArray[0]);t?document.getElementById("blockInfoPointer").innerHTML='<div id="blockname" onclick="displayBlockData(\''+t+"');\">"+scriptGroups[t][3]+' <img style="vertical-align:bottom;" src="images/info.gif" alt="info"/></div> ':document.getElementById("blockInfoPointer").innerHTML="",drawSelection(e),displayTags(listTags())}}function displayTags(e){var t="";if(t+='<a href="none" onclick="showProperties(\'(;Lu;|;Ll;|;Lt;|;Lm;|;Lo;)\'); return false;">letter</a> ',t+=' • <a href="none" onclick="showProperties(\'(;Mn;|;Mc;|;Me;)\'); return false;">mark</a> ',t+=' • <a href="none" onclick="showProperties(\'(;Nd;|;Nl;|;No;)\'); return false;">number</a> ',t+=' • <a href="none" onclick="showProperties(\'(;Pc;|;Pd;|;Ps;|;Pe;|;Pi;|;Pf;|;Po;)\'); return false;">punctuation</a> ',t+=' • <a href="none" onclick="showProperties(\'(;Sm;|;Sc;|;Sk;|;So;)\'); return false;">symbol</a> ',e.length>0){t+=' • <a href="none" onclick="highlightByTag(\''+e[0]+"'); return false;\">"+e[0]+"</a>";for(var n=1;n<e.length;n++)t+=' • <a href="none" onclick="highlightByTag(\''+e[n]+"'); return false;\">"+e[n]+"</a> "}document.getElementById("tags").innerHTML=t}function listTags(){var e=[],t=document.getElementById("chart"),n={};nodes=t.querySelectorAll(".ch");for(var r=0;r<nodes.length;r++){var a=nodes[r].title.split(" "),c=a[3];if(T[c])for(var o=T[c].split(","),d=0;d<o.length;d++)null==n[o[d]]&&(n[o[d]]=o[d])}for(tag in n)e.push(n[tag]);return e.sort(),e}function showUnihan(e,t){if(e="dec"==t?cleanDecCPs(e):"hex"==t?cleanHexCPs(e):convertChar2CP(e),""==e||" "==e)return alert("No codepoints found."),0;if(e.match(/[^abcdefABCDEF0-9\s]/))return alert("Can't work out what the codepoints are. Unexpected characters found. Boiled down to: "+e),0;var n=e.split(" ");if(n.length>5){var r=confirm("This request will open "+n.length+" windows. Do you want to continue?");if(!r)return!1}for(var a=0;a<n.length;a++)unihan=window.open("http://www.unicode.org/cgi-bin/GetUnihanData.pl?codepoint="+n[a]+"&useutf8=true","unihan"+a),unihan.focus()}function tidyRange(e){return e=e.replace(/^\s+/,""),e=e.replace(/\s+$/,""),e=e.replace(/\s+/,":"),e=e.replace(/[\\uUx\&\#\+\;]/g,""),e=e.replace(/-/g,":"),e=e.replace(/\.+/g,":"),""==e||" "==e||":"==e?(alert("No range specified."),0):e.match(/[^abcdefABCDEF0-9\:]/)?(alert("Range incorrectly specified. Unexpected characters found. Range identified: "+e),0):(e.match(/:/)||(e+=":"),rangeArray=e.split(":"),rangeArray.length>2?(alert("Range incorrectly specified. Two hex numbers expected. Range identified: "+e),0):e)}function toggleDisplay(e){"range"==_lastOperation&&showSelection(document.getElementById("block").value),"customrange"==_lastOperation&&showRange(document.getElementById("customRange1").value);
}function toggleNotes(e){document.getElementById("showNotesToggle").checked?(_showNotes=!0,localStorage.setItem("showNotes",!0)):(_showNotes=!1,localStorage.setItem("showNotes",!1),document.getElementById("notesIframe").src="blank.html")}function toggleSpan2Img(e,t){}function toggleGraphic(e){var t,n=document.getElementById("chart"),r=!1;n.getElementsByTagName("tr");if(isMatrix()){for(var a=n.getElementsByTagName("td"),c=0;c<a.length;c++)if(a[c].className.match(/ch/)){t=a[c].title.split(" ");for(var o=t[1].toUpperCase(),d=o.length;4>d;d++)o="0"+o;if(1==document.getElementById("graphicsToggle").checked){var i=document.createElement("img");cRecord=U[t[3]].split(";"),"m"==cRecord[GRAPHIC_FIELD]?(scriptGroup=findScriptGroup(parseInt(t[3])),i.src="/c/"+scriptGroup.replace(/ /g,"_")+"/"+o+".png"):(i.src="http://decodeunicode.org/data/glyph/26x26/"+o+".gif",i.alt=getCharFromInt(t[3]),r=!0);var l=a[c].firstChild;a[c].replaceChild(i,l)}else{var s=document.createTextNode(getCharFromInt(t[3])),i=a[c].firstChild;a[c].replaceChild(s,i)}}}else for(var p=n.getElementsByTagName("div"),c=0;c<p.length;c++)if(p[c].className.match(/ch/)){t=p[c].title.split(" ");var o=t[1].toUpperCase();o=o.replace(/;/,"");for(var d=o.length;4>d;d++)o="0"+o;if(1==document.getElementById("graphicsToggle").checked){var i=document.createElement("img");cRecord=U[t[3]].split(";"),"m"==cRecord[GRAPHIC_FIELD]&&(scriptGroup=findScriptGroup(parseInt(t[3])),i.src="/c/"+scriptGroup.replace(/ /g,"_")+"/"+o+".png");var m=p[c].getElementsByTagName("span")[0];p[c].replaceChild(i,m)}else{var s=document.createTextNode(getCharFromInt(t[3])),m=document.createElement("span");m.className="chSpan",m.style.fontFamily=_currentFont,m.appendChild(s);var i=p[c].getElementsByTagName("img")[0];p[c].replaceChild(m,i)}}r?document.getElementById("ack").style.display="block":document.getElementById("ack").style.display="none",document.getElementById("largeChar")&&printProperties(parseInt(document.getElementById("largeChar").title))}function toggleNumbers(){var e=document.getElementById("chart").getElementsByTagName("td");if(e.length>0){for(var t=0;t<e.length&&"ch"!=e[t].className&&"empty"!=e[t].className;)t++;var n=e[t].title.split(" "),r=n[1];n=e[e.length-1].title.split(" ");var a=n[1];showSelection(r+":"+a)}}function printProperties(codepoint){var MsPadding="",description=!1,div,span,img,table,tbody,tr,td,button,listDiv=document.getElementById("charOutput"),oldContent=document.getElementById("charInfo");listDiv.style.display="block";var newContent=document.createElement("div");if(newContent.className="charInfo",newContent.setAttribute("id","charInfo"),charData=getDataFor(codepoint),charType=getCharType(codepoint),scriptGroup=findScriptGroup(codepoint),div=newContent.appendChild(document.createElement("div")),span=div.appendChild(document.createElement("span")),span.id="charNavigation",_copy2Picker?span.style.backgroundColor="#EDE4D0":span.style.backgroundColor="#a52a2a",button=span.appendChild(document.createElement("button")),button.onclick=function(){listDiv.style.display="none"},button.appendChild(document.createTextNode("Close")),button.className="clearButtonTop",button=span.appendChild(document.createElement("button")),button.onclick=function(){adjacentChar(codepoint,-1)},button.appendChild(document.createTextNode("Previous")),button.title=sPrevChar,button.className="moveForwardBack",button=span.appendChild(document.createElement("button")),button.onclick=function(){adjacentChar(codepoint,1)},button.appendChild(document.createTextNode("Next")),button.title=sPrevChar,button.className="moveForwardBack",2==charType||3==charType||5==charType){cRecord=charData.split(";"),cRecord[3]>0&&(MsPadding=" "),div=newContent.appendChild(document.createElement("div")),div.className="largeCharDiv",0==document.getElementById("graphicsToggle").checked?(span=div.appendChild(document.createElement("span")),span.setAttribute("id","largeChar"),span.title=parseInt(cRecord[0],16),span.className="largeChar",span.style.fontFamily=_currentFont,span.appendChild(document.createTextNode(MsPadding+getCharFromInt(parseInt(cRecord[0],16))))):(img=div.appendChild(document.createElement("img")),img.setAttribute("id","largeChar"),img.title=parseInt(cRecord[0],16),"m"==cRecord[GRAPHIC_FIELD]?img.src="/c/"+scriptGroup.replace(/ /g,"_")+"/large/"+cRecord[0]+".png":img.src="http://decodeunicode.org/data/glyph/196x196/"+cRecord[0]+".gif");var uplus="U+";if(div=newContent.appendChild(document.createElement("div")),div.style.marginTop="10px",div.appendChild(document.createTextNode(uplus+cRecord[0]+"   "+cRecord[1])),cRecord[15]&&(div=newContent.appendChild(document.createElement("div")),div.className="beta","n"==cRecord[15]?div.appendChild(document.createTextNode("This is a new character in the beta version. The properties may change.")):(div.appendChild(document.createTextNode("The properties of this character have changed in the beta version. That change is not yet stable. ")),a=div.appendChild(document.createElement("a")),a.href="/tools/uniview_archive/uniview5.1.0f/uniview.php?char="+cRecord[0],a.target="old version",a.appendChild(document.createTextNode("See the previous version.")))),table=newContent.appendChild(document.createElement("table")),table.className="propsTable",table.width="90%",table.style.clear="both",tbody=table.appendChild(document.createElement("tbody")),tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(sGeneralCat)),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(cRecord[2]+" - "+generalProp[cRecord[2]])),tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(sCanonCombClass)),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(cRecord[3]+" - "+combClass[cRecord[3]])),tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(sBidiCat)),td=tr.appendChild(document.createElement("td")),string=cRecord[4]+" - "+bidiProp[cRecord[4]],"Y"==cRecord[9]&&(string+=sMirrored),td.appendChild(document.createTextNode(string)),cRecord[5]){for(tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(sCharDecompMap)),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(cRecord[5]+"    ")),cps=cRecord[5].split(" "),dresult="",n=0;n<cps.length;n++)"["!=cps[n].charAt(0)&&(dresult+=getCharFromInt(parseInt(cps[n],16))+"");iespan=document.createElement("span"),iespan.setAttribute("class","ie"),iespan.appendChild(document.createTextNode(dresult)),td.appendChild(iespan)}cRecord[6]&&(tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(sDecDigitValue)),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(cRecord[6]))),cRecord[7]&&(tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(sDigitValue)),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(cRecord[7]))),cRecord[8]&&(tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(sNumValue)),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(cRecord[8]))),cRecord[10]&&(tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(sUnicode1Name)),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(cRecord[10]))),cRecord[11]&&(tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(s10646Comment)),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(cRecord[11]))),cRecord[12]&&(tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(sUppercaseMap)),td=tr.appendChild(document.createElement("td")),dresult=getCharFromInt(parseInt(cRecord[12],16))+"",td.appendChild(document.createTextNode(cRecord[12]+"    ")),iespan=document.createElement("span"),iespan.setAttribute("class","ie"),iespan.appendChild(document.createTextNode(dresult)),td.appendChild(iespan)),cRecord[13]&&(tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(sLowercaseMap)),td=tr.appendChild(document.createElement("td")),dresult=getCharFromInt(parseInt(cRecord[13],16))+"",td.appendChild(document.createTextNode(cRecord[13]+"    ")),iespan=document.createElement("span"),iespan.setAttribute("class","ie"),iespan.appendChild(document.createTextNode(dresult)),td.appendChild(iespan)),cRecord[14]&&(tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(sTitlecaseMap)),td=tr.appendChild(document.createElement("td")),dresult=getCharFromInt(parseInt(cRecord[14],16)),td.appendChild(document.createTextNode(cRecord[14]+"    ")),iespan=document.createElement("span"),iespan.setAttribute("class","ie"),iespan.appendChild(document.createTextNode(dresult)),td.appendChild(iespan)),tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode("Unicode version:")),td.setAttribute("style","padding-bottom:15px;"),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(cRecord[AGE_FIELD])),td.setAttribute("style","padding-bottom:15px;");var pageNum=0,approx="";"CJK Unified Ideographs"==scriptGroup&&(pageNum=Math.floor((codepoint-19968)/40+2),blockstart="4E00",approx=" [35Mb file!]"),"CJK Unified Ideographs Extension A"==scriptGroup&&(pageNum=Math.floor((codepoint-13312)/56.25+2),blockstart="3400",approx=", approx [6Mb file!]"),"CJK Unified Ideographs Extension B"==scriptGroup&&(pageNum=Math.floor((codepoint-131072)/58.67+2),blockstart="20000",approx=", approx [40Mb file!]"),"CJK Unified Ideographs Extension C"==scriptGroup&&(pageNum=Math.floor((codepoint-173824)/78.26+2),blockstart="2A700",approx=", approx"),"CJK Unified Ideographs Extension D"==scriptGroup&&(pageNum=Math.floor((codepoint-177984)/80+2),blockstart="2B740"),"CJK Unified Ideographs Extension E"==scriptGroup&&(pageNum=Math.floor((codepoint-178208)/80+2),blockstart="2B820"),"Hangul Syllables"==scriptGroup&&(pageNum=Math.floor((codepoint-44032)/256+2),blockstart="AC00"),pageNum>0&&"Hangul Syllables"!=scriptGroup&&(p=newContent.appendChild(document.createElement("p")),p.style.marginTop="18px",p.appendChild(document.createTextNode("View data in ")),a=p.appendChild(document.createElement("a")),a.appendChild(document.createTextNode("UniHan database")),a.setAttribute("href","http://www.unicode.org/cgi-bin/GetUnihanData.pl?codepoint="+cRecord[0]+"&amp;useutf8=true"),a.setAttribute("target","unihan")),pageNum>0&&scriptGroup&&(p=newContent.appendChild(document.createElement("p")),p.appendChild(document.createTextNode("View in ")),a=p.appendChild(document.createElement("a")),a.appendChild(document.createTextNode("PDF code charts")),a.setAttribute("href","http://www.unicode.org/charts/PDF/U"+blockstart+".pdf#page="+pageNum),a.setAttribute("target","unihan"),p.appendChild(document.createTextNode(" (page "+pageNum+approx+")"))),1==document.getElementById("graphicsToggle").checked&&(tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode("As text:")),td=tr.appendChild(document.createElement("td")),td.className="astext",td.appendChild(document.createTextNode(MsPadding+getCharFromInt(parseInt(cRecord[0],16))))),tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode("Decimal:")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(codepoint)),tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode("HTML escape:")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode("&#x"+cRecord[0]+";")),tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode("URL escape:")),td=tr.appendChild(document.createElement("td")),td.appendChild(document.createTextNode(convertChar2pEsc(codepoint))),tr=tbody.appendChild(document.createElement("tr")),td=tr.appendChild(document.createElement("td")),td.setAttribute("colspan","2"),td.innerHTML='<a href="/apps/conversion?q='+getCharFromInt(parseInt(cRecord[0],16))+'" target="conversion">More alternative forms</a>',p=newContent.appendChild(document.createElement("p")),p.style.marginTop="18px",p.appendChild(document.createTextNode("More properties at ")),a=p.appendChild(document.createElement("a")),a.appendChild(document.createTextNode("CLDR's Property demo")),a.setAttribute("href","http://unicode.org/cldr/utility/character.jsp?a="+cRecord[0]),a.setAttribute("target","cldr"),p=newContent.appendChild(document.createElement("p")),p.style.marginTop="0px",p.appendChild(document.createTextNode("Descriptions at ")),a=p.appendChild(document.createElement("a")),a.appendChild(document.createTextNode("decodeUnicode")),a.setAttribute("href","http://www.decodeunicode.org/U+"+cRecord[0]),a.setAttribute("target","decodeunicode"),p=newContent.appendChild(document.createElement("p")),p.style.marginTop="0px",p.appendChild(document.createTextNode("Java data at ")),a=p.appendChild(document.createElement("a")),a.appendChild(document.createTextNode("FileFormat")),a.setAttribute("href","http://www.fileformat.info/info/unicode/char/"+cRecord[0]),a.setAttribute("target","fileformat"),_charScriptGroup=scriptGroup,p=newContent.appendChild(document.createElement("p")),p.style.marginTop="18px",strong=p.appendChild(document.createElement("strong")),strong.appendChild(document.createTextNode(sScriptGroup)),a=p.appendChild(document.createElement("a")),a.href="#",a.onclick=function(){return showSelection(getRange(_charScriptGroup)),!1},a.appendChild(document.createTextNode(_charScriptGroup)),p=newContent.appendChild(document.createElement("p")),p.style.marginTop="18px",strong=p.appendChild(document.createElement("strong")),strong.appendChild(document.createTextNode("Script group: ")),span=p.appendChild(document.createElement("span")),span.className="subcat",span.appendChild(document.createTextNode(st[cRecord[SUBTITLE_FIELD]]));var blockfile=charInfoPointer(cRecord[0]);if(desc[eval("0x"+cRecord[0])]||blockfile){if(p=newContent.appendChild(document.createElement("p")),p.style.marginTop="18px",strong=p.appendChild(document.createElement("strong")),strong.appendChild(document.createTextNode(sDescription)),desc[eval("0x"+cRecord[0])]){dRecord=desc[eval("0x"+cRecord[0])].split("¶"),description=!0;for(var j=0;j<dRecord.length;j++)p.appendChild(document.createTextNode(dRecord[j])),p.appendChild(document.createElement("br"))}blockfile&&_showNotes?(p.appendChild(document.createElement("br")),span=p.appendChild(document.createElement("span")),span.className="notesexpl",a=span.appendChild(document.createElement("a")),a.href="/scripts/"+blockfile+"/block#char"+cRecord[0],a.target="blockdata",a.appendChild(document.createTextNode("Open the notes in a separate page.")),span.style.fontSize="80%",document.getElementById("notesIframe").src="/scripts/"+blockfile+"/block?char="+cRecord[0]):blockfile?(p.appendChild(document.createElement("br")),span=p.appendChild(document.createElement("span")),span.className="notesexpl",span.appendChild(document.createTextNode("Notes are available for this character.")),span.style.fontSize="80%",document.getElementById("notesIframe").src="blank"):document.getElementById("notesIframe").src="blank"}else document.getElementById("notesIframe").src="blank"}else{var group=findScriptGroup(codepoint);div=newContent.appendChild(document.createElement("div")),div.style.marginTop="10px";for(var hexcpvalue=codepoint.toString(16).toUpperCase();hexcpvalue.length<4;)hexcpvalue="0"+hexcpvalue;div.appendChild(document.createTextNode("U+"+hexcpvalue+" Unassigned character.")),p=newContent.appendChild(document.createElement("p")),p.style.marginTop="18px",strong=p.appendChild(document.createElement("strong")),strong.appendChild(document.createTextNode(sScriptGroup)),a=p.appendChild(document.createElement("a")),a.href="#",a.onclick=function(){return showSelection(getRange(scriptGroup)),!1},a.appendChild(document.createTextNode(scriptGroup))}var removedNode=listDiv.replaceChild(newContent,oldContent);div=newContent.appendChild(document.createElement("div")),div.id="charNavigation",_copy2Picker?div.style.backgroundColor="#EDE4D0":div.style.backgroundColor="#a52a2a",button=div.appendChild(document.createElement("button")),button.onclick=function(){listDiv.style.display="none"},button.appendChild(document.createTextNode("Close")),button.className="clearButtonBottom"}function mopen(e){mcancelclosetime(),ddmenuitem&&(ddmenuitem.style.visibility="hidden"),ddmenuitem=document.getElementById(e),ddmenuitem.style.visibility="visible"}function mclose(){ddmenuitem&&(ddmenuitem.style.visibility="hidden")}function mclosetime(){closetimer=window.setTimeout(mclose,timeout)}function mcancelclosetime(){closetimer&&(window.clearTimeout(closetimer),closetimer=null)}function switchpanel(e){document.getElementById("initialpanel").style.display="none",document.getElementById("rangepanel").style.display="none",document.getElementById("optionspanel").style.display="none",document.getElementById(e).style.display="block",document.getElementById("initialpaneltab").className="",document.getElementById("rangepaneltab").className="",document.getElementById("optionspaneltab").className="";var t=e+"tab";document.getElementById(t).className="ontab"}function tabswitch(e,t){for(var n=t.split(" "),r=0;r<n.length;r++)document.getElementById(n[r]).style.display="none";document.getElementById(e).style.display="block";for(var r=0;r<n.length;r++)document.getElementById(n[r]+"tab").className="";document.getElementById(e+"tab").className="ontab"}function scriptInfoPointer(e){if(charNum=parseInt(e,16),charNum<128)return 1;for(var t=1;t<scriptGroups.length&&charNum>scriptGroups[t][0];)t++;return t==scriptGroups.length?"":scriptGroups[t][0]==charNum&&scriptGroups[t][3]?t:""}function foundInList(e,t){var n=t.split(" ");for(e=parseInt(e),i=0;i<n.length;i++){var r=n[i].split(":");if(1==r.length&&e==parseInt(r[0]))return!0;if(r.length>1&&e>=parseInt(r[0])&&e<=parseInt(r[1]))return!0}return!1}function charInfoPointer(e){if(charNum=parseInt(e,16),charNum<128)return scriptGroups[0][3];for(var t=1;t<scriptGroups.length&&charNum>scriptGroups[t][1];)t++;return t==scriptGroups.length?"":foundInList(charNum,scriptGroups[t][4])?scriptGroups[t][3]:""}function displayBlockData(e){var t=scriptGroups[e][3];info=window.open("/scripts/links?script="+t,"info"),info.focus()}function createAnnotatedList(e,t){for(var n="",r=e;t+1>r;)U[r]&&(n+=getCharFromInt(r)),r++;return n}function dec2hex2(e){var t=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F");return t[e>>4&15]+t[15&e]}function convertChar2pEsc(e){var t="";return""==e?"":t+=32==e?"%20":e>=65&&90>=e?String.fromCharCode(e):e>=97&&122>=e?String.fromCharCode(e):e>=48&&57>=e?String.fromCharCode(e):45==e||46==e||95==e||126==e?String.fromCharCode(e):127>=e?"%"+dec2hex2(e):2047>=e?"%"+dec2hex2(192|e>>6&31)+"%"+dec2hex2(128|63&e):65535>=e?"%"+dec2hex2(224|e>>12&15)+"%"+dec2hex2(128|e>>6&63)+"%"+dec2hex2(128|63&e):1114111>=e?"%"+dec2hex2(240|e>>18&7)+"%"+dec2hex2(128|e>>12&63)+"%"+dec2hex2(128|e>>6&63)+"%"+dec2hex2(128|63&e):"!Error "+dec2hex(e)+"!"}function addSpacesToPicker(e){for(var t=document.getElementById("picker").value,n=convertChar2CP(t),r=n.split(" "),a="",c=0;c<r.length-1;c++)a+=convertCP2Char(r[c])+e;a+=convertCP2Char(r[r.length-1]),document.getElementById("picker").value=a}function countPickerChars(){var e=document.getElementById("picker").value,t=convertChar2CP(e),n=t.split(" ");return n.length}var _notesArray=[],_newNotesArray=!1,_currentFont=_defaultFont,_lastOperation="";if(document.all)var IE="true";var _tempList=!1,_IE=!1,_notesLoaded=!1,databaseAvailable=!0,_selections=[],_newCodepoint,_newCharacterList,_newContent,_resultdiv,_counter,_copy2Picker=!1,_border="1px solid #eee",GRAPHIC_FIELD=16,SUBTITLE_FIELD=17,AGE_FIELD=18,CSHELP='<img src="images/cshelp.png" class="cshelp" alt="Context-sensitive help" />',_displayStyle="matrix",_showNumbers=!0,_utf8=!1,unassignedChar="#f2f2f2",unassignedFiltered="#f2f2f2",filterHighlight="#F9F5DE",_defaultFont="",_casefield="",_charScriptGroup="Latin",_block="",_showNotes=!1,timeout=500,closetimer=0,ddmenuitem=0;