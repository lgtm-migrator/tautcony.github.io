/*!
* TC Blog v1.0.0 (https://tautcony.github.io/)
* Copyright 2017 TautCony
* Licensed under Apache-2.0 (https://github.com/tautcony/tautcony.github.io/blob/master/LICENSE)
*/
$(function(){function t(t,n){for(var o=[0,0,0],a=n;a<n+4;++a){var r=t.charCodeAt(a),i=r>=43&&r<=122?"$"===e[r-43]?0:e.charCodeAt(r-43)-61:0;o[a-n]=i-1}return String.fromCharCode(o[0]<<2&255|o[1]>>4,o[1]<<4&255|o[2]>>2,o[2]<<6&192|o[3]>>0)}var e="|$$$}rstuvwxyz{$$$$$$$>?@ABCDEFGHIJKLMNOPQRSTUVW$$$$$$XYZ[\\]^_`abcdefghijklmnopq",n=document.getElementById("qr-container");if(null!==n){var o=document.createElement("p");o.id="donate",o.textContent="\u554a\u54c8\uff0c\u4e0d\u8003\u8651\u8d44\u52a9\u4e00\u4e0b\u8d2b\u82e6\u7684\u5c71\u533a\u513f\u7ae5\u4e48\uff08\u96fe";var a=document.createElement("img");a.id="qrcode",o.addEventListener("mouseover",function(){return setTimeout(function(){return a.src=function(e){for(var n="",o=0;o<e.length;o+=4)n+=t(e,o);return n}("L2ltZy9hbGlwYXlfcXIucG5n")},201)}),o.addEventListener("mouseout",function(){return setTimeout(function(){return a.src=""},201)}),n.appendChild(o),n.appendChild(a)}});var t={data:[{title:"\u4e2d\u6587",lang:"zh",blockquote:"\u591c\u7a7a\u5f7c\u65b9\u4e0e\u98de\u673a\u5c3e\u4e91",content:["\u552f\u300c\u4ee5\u540e\u6211\u4eec\u4e5f\u80fd\u4e00\u76f4\u7ec4\u4e50\u961f\u5c31\u597d\u4e86\u300d","\u5f8b\u300c\u662f\u554a\u300d","\u7d2c\u300c\u55ef\u300d","\u6893\u300c\u662f\u554a\u300d","\u6faa\u300c\u55ef\u3002\u5c31\u8fd9\u6837\uff0c\u76f4\u5230\u6c38\u8fdc\u5427\u300d"]},{title:"\u65e5\u672c\u8a9e",lang:"jp",blockquote:"\u591c\u7a7a\u30ce\u30e0\u30b3\u30a6\u3068\u3072\u3053\u3046\u304d\u96f2",content:["\u552f\u300c\u3053\u308c\u304b\u3089\u3082\u305a\u3063\u3068\u3001\u307f\u3093\u306a\u3067\u30d0\u30f3\u30c9\u3067\u304d\u305f\u3089\u3044\u3044\u306d\u300d","\u5f8b\u300c\u305d\u3046\u3060\u306a\u300d","\u7d2c\u300c\u3046\u3093\u300d","\u6893\u300c\u305d\u3046\u3067\u3059\u306d\u300d","\u6faa\u300c\u3042\u3042\u3002\u305a\u3063\u3068\u3001\u305a\u3063\u3068\u306a\u300d"]},{title:"English",lang:"en",blockquote:"Translation Server Error :)",content:["Yui\u300cI hope I can playing in a band with you guys forever\u300d","Ritsu\u300cI konw what you mean\u300d","Mugi\u300cHum\u300d","Azusa\u300cMe, too\u300d","Mio\u300cYeah! Forever. And ever\u300d"]}],className:"lang",title:"K-ON!! EP12",url:"http://www.tbs.co.jp/anime/k-on/k-on_tv/story/story212.html"};$(function(){var e=document.getElementById("kon-container");if(null!==e){var n=[],o=document.getElementById("langSelect");t.data.forEach(function(o){var a=function(e){var n=document.createElement("div");n.className=t.className,n.title=e.title,n.lang=e.lang,n.style.display="none";var o=document.createElement("blockquote");o.textContent=e.blockquote,n.appendChild(o),e.content.forEach(function(t){var e=document.createElement("p");e.textContent=t,n.appendChild(e)});var a=document.createElement("p");a.style.textAlign="right",a.title=t.title;var r=document.createElement("a");return r.href=t.url,r.text=t.title,a.appendChild(document.createTextNode("\u2014\u2014 ")),a.appendChild(r),n.appendChild(a),n}(o);n.push(a),e.appendChild(a)});var a=0,r=window.navigator.language;n.forEach(function(t,e){var n=document.createElement("option");n.value=e.toString(),n.innerHTML=t.getAttribute("title"),o.appendChild(n),r.indexOf(t.getAttribute("lang"))>=0&&(a=e)});var i=-1;o.addEventListener("change",function(t){var e=parseInt(t.target.value,10);-1!==i&&(n[i].style.display="none"),i=e,$(n[e]).fadeIn(500)}),o.options.selectedIndex=a,o.dispatchEvent(new Event("change"))}}),$(function(){var t=$("header.intro-header");"none"===t.css("background-image")&&t.geopattern(document.location.href);var n=$(".post-content");0!==n.length&&(n.children("p").each(function(t,n){var o=$(n);e.startsWith(o.text(),"//")&&o.css({color:"#339966"})}),n.find("a").each(function(t,n){e.isExternal(n.href)&&$(n).addClass("external")}))}),$(function(){if(0!==$("#tag_cloud").length){for(var t=document.getElementsByClassName("tag"),n=[],o=0;o<t.length;o++)n.push(t[o]);n.sort(function(t,e){return t.title===e.title?0:t.title<e.title?-1:1}),function(t){for(var e=document.getElementsByClassName("tag"),n=0;n<e.length;++n)e[n].parentNode.removeChild(e[n])}();for(var a=document.getElementById("tag_cloud"),r=0,i=n;r<i.length;r++){var s=i[r];a.appendChild(s)}e.tagcloud($("#tag_cloud a"),{color:{start:"#bbbbee",end:"#0085a1"},size:{start:1,end:1.1,unit:"em"}})}}),$(function(){$("table").wrap("<div class='table-responsive'></div>"),$("table").addClass("table"),$('iframe[src*="youtube.com"]').wrap('<div class="embed-responsive embed-responsive-16by9"></div>').addClass("embed-responsive-item"),$('iframe[src*="vimeo.com"]').wrap('<div class="embed-responsive embed-responsive-16by9"></div>').addClass("embed-responsive-item"),function(){if($(window).width()>1170){var t=$(".navbar-custom").height(),e=$(".intro-header .container").height();$(window).scroll({previousTop:0,passive:!0},function(n){var o=$(window).scrollTop(),a=$(".side-catalog");o<n.data.previousTop?o>0&&$(".navbar-custom").hasClass("is-fixed")?$(".navbar-custom").addClass("is-visible"):$(".navbar-custom").removeClass("is-visible is-fixed"):($(".navbar-custom").removeClass("is-visible"),o>t&&!$(".navbar-custom").hasClass("is-fixed")&&$(".navbar-custom").addClass("is-fixed")),n.data.previousTop=o,a.show(),o>e?a.addClass("fixed"):a.removeClass("fixed")})}}(),$("#gotop").click(function(){return $("html, body").animate({scrollTop:0},1e3)}),$(window).scroll({passive:!0},function(){return $("#gotop").toggleClass("active",$(window).scrollTop()>300)}),(new e.Nav).Init(),new e.Title(["_(:3 \u300d\u2220)_","_(\u30fb\u03c9\u30fb\uff63\u2220)_","_(:\u0437)\u2220)_","_(\u2510\u300c\u03b5:)_","_(:3\u300d\u2220\u2740","_(:\u0437\u309d\u2220)_","_(:3\u300d[\uff3f]","\u30fe(:3\uff89\uff7c\u30fe)\uff89\uff7c","(\xa63\ua1e4[\u2593\u2593]","_( -\u03c9-` )\u2312)_"]).Init(),new e.Quote(".copyright","quote").Interval(Math.pow(10,4))}),function(t){function e(t){var e=t;return 0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace(/([a-z])?:\/\//,"$1").split("/")[0]}t.startsWith=function(t,e,n){return t.substr(void 0===n?0:n,e.length)===e},t.checkDomain=e,t.isExternal=function(t){return(t.length>1&&t.indexOf(":")>-1||t.indexOf("//")>-1)&&e(location.href)!==e(t)}}(e||(e={})),function(t){var e=function(){function t(){this.navbar=document.querySelector("#blog_navbar"),this.toggle=document.querySelector(".navbar-toggle"),this.collapse=document.querySelector(".navbar-collapse")}return t.prototype.Init=function(){var t=this;this.toggle.addEventListener("click",function(e){t.navbar.className.indexOf("in")>0?t.close():t.open()}),document.addEventListener("click",function(e){e.target!==t.toggle&&"icon-bar"!==e.target.className&&t.close()})},t.prototype.close=function(){var t=this;this.navbar.className=" ",setTimeout(function(){t.navbar.className.indexOf("in")<0&&(t.collapse.style.height="0")},400)},t.prototype.open=function(){this.collapse.style.height="auto",this.navbar.className+=" in"},t}();t.Nav=e}(e||(e={})),function(t){var e=function(){function t(t,e){var n=this;this.RandomQuote=function(){var t=n.quotes[Math.floor(Math.random()*n.quotes.length)],e=[t.org,t.chi,t.jpn].filter(function(t){return void 0!==t}).slice(0);return{text:e[Math.floor(Math.random()*e.length)],author:t.aut,source:t.sou}},this.CreateElement=function(t){var e=void 0!==t.className?t.className:"",n=void 0!==t.cssText?t.cssText:"",o=document.createElement(t.tagName);return o.className=e,o.style.cssText=n,"string"==typeof t.content?o.textContent=t.content:t.content.forEach(function(t){o.appendChild(t)}),o},this.CreateQuote=function(){var t=n.CreateElement({tagName:"div",className:"quote-content",cssText:"margin-top:2em;margin-bottom:-2em;",content:""}),e=n.CreateElement({tagName:"small",className:"quote-author",cssText:"margin-left:16em;",content:""});return[t,document.createElement("br"),e]},this.FetchData(function(){var o=n.CreateElement({tagName:"div",className:e,content:n.CreateQuote()});document.querySelector(t).appendChild(o),n.container=document.querySelector(t+" ."+e),n.UpdateQuote()})}return t.prototype.UpdateQuote=function(){var t=this.RandomQuote();this.container.querySelector(".quote-content").textContent=t.text,this.container.querySelector(".quote-author").textContent="\u2014\u2014 "+t.author+" \u300a"+t.source+"\u300b"},t.prototype.Interval=function(t){var e=this;setInterval(function(){e.UpdateQuote()},t)},t.prototype.FetchData=function(t){var e=this,n=new XMLHttpRequest;n.open("GET","/json/quote.json",!0),n.onload=function(){4===n.readyState&&-1!==n.getResponseHeader("content-type").indexOf("application/json")?(e.quotes=JSON.parse(n.responseText),t()):console.error(n)},n.onerror=function(){console.error(n.statusText)},n.send()},t}();t.Quote=e}(e||(e={})),function(t){function e(t){var e=t;/#[0-9a-fA-F]{3}/.test(e)&&(e="#"+(e[1]+e[1]+(e[2]+e[2])+(e[3]+e[3])));var n=/(\w{2})(\w{2})(\w{2})/.exec(e);return null===n?[0,0,0]:[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}t.tagcloud=function(t,n){void 0===n&&(n={});var o={size:{start:14,end:18,unit:"pt"},color:{start:"#bbbbee",end:"#0085a1"}},a={color:void 0!==n.color?n.color:o.color,size:void 0!==n.size?n.size:o.size},r=1061109567,i=0;t.each(function(t,e){var n=parseInt(e.getAttribute("rel"),10);r=Math.min(r,n),i=Math.max(i,n)});var s=i-r;0===s&&(s=1);var c=(a.size.end-a.size.start)/s,l=function(t,n){var o=e(t.color.start);return e(t.color.end).map(function(t,e){return(t-o[e])/n})}(a,s);return t.each(function(t,n){var o=parseInt($(n).attr("rel"),10)-r;$(n).css({"font-size":(a.size.start+o*c).toString()+a.size.unit}),$(n).css({backgroundColor:function(t,n,o){return"#"+e(t.color.start).map(function(t,e){var a=Math.round(t+n[e]*o);return a>255?255:a<0?0:a}).map(function(t){var e=t.toString(16);return e=1===e.length?"0"+e:e}).join("")}(a,l,o)})})}}(e||(e={}));var e;!function(t){var e=function(){function t(t){this.titles=t,this.initalTitle=document.title,this.restoreTitleID=null}return t.prototype.Init=function(){var t=this;document.addEventListener("visibilitychange",function(e){document.hidden?(null!==t.restoreTitleID&&clearTimeout(t.restoreTitleID),document.title=t.titles[Math.floor(Math.random()*t.titles.length)]+" "+t.initalTitle):(document.title="\uff0e\uff0e\uff0e\uff0e\uff0e\uff0e",null!==t.restoreTitleID&&clearTimeout(t.restoreTitleID),t.restoreTitleID=setTimeout(function(){document.title=t.initalTitle,t.restoreTitleID=null},500))})},t}();t.Title=e}(e||(e={}));